<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form Đăng Ký Cao Cấp</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="style.css" />

    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  </head>
  <body>
    <div class="background-lights">
      <div class="light-sphere light-1"></div>
      <div class="light-sphere light-2"></div>
    </div>

    <div class="container">
      <div class="toggle-wrapper">
        <button
          id="theme-toggle"
          class="toggle-button"
          title="Chuyển đổi chế độ sáng/tối"
        >
          <svg
            id="theme-icon"
            class="svg-icon"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          ></svg>
        </button>
      </div>

      <div class="form-card">
        <h1 class="main-title">Đăng Ký Tài Khoản Mới</h1>
        <p class="subtitle">
          Trở thành thành viên của cộng đồng chúng tôi ngay hôm nay. Đảm bảo
          thông tin chính xác và bảo mật.
        </p>

        <form id="registration-form">
          <!-- THÔNG TIN CÁ NHÂN -->
          <fieldset class="fieldset">
            <legend>Thông Tin Cơ Bản</legend>

            <div class="grid-2-col">
              <div class="input-group">
                <label for="first-name" class="input-label">Tên</label>
                <input
                  type="text"
                  id="first-name"
                  name="first-name"
                  class="form-input"
                  placeholder="Nhập Tên..."
                  required
                />
              </div>
              <div class="input-group">
                <label for="last-name" class="input-label">Họ</label>
                <input
                  type="text"
                  id="last-name"
                  name="last-name"
                  class="form-input"
                  placeholder="Nhập Họ..."
                  required
                />
              </div>
            </div>

            <div class="input-group">
              <label for="email" class="input-label">Email</label>
              <input
                type="email"
                id="email"
                name="email"
                class="form-input"
                placeholder="vd: ban@example.com"
                required
              />
            </div>

            <div class="grid-2-col">
              <div class="input-group">
                <label for="password" class="input-label">Mật Khẩu</label>
                <input
                  type="password"
                  id="password"
                  name="password"
                  class="form-input"
                  placeholder="Tối thiểu 8 ký tự"
                  required
                />
              </div>
              <div class="input-group">
                <label for="confirm-password" class="input-label"
                  >Xác Nhận Mật Khẩu</label
                >
                <input
                  type="password"
                  id="confirm-password"
                  name="confirm-password"
                  class="form-input"
                  placeholder="Nhập lại mật khẩu"
                  required
                />
              </div>
            </div>
          </fieldset>

          <fieldset class="fieldset">
            <legend>Thiết Lập Tùy Chọn</legend>

            <div class="input-group">
              <label for="role" class="input-label">Vai Trò Hiện Tại</label>
              <select id="role" name="role" class="form-select">
                <option value="">-- Chọn vai trò --</option>
                <option value="student">Học sinh/Sinh viên</option>
                <option value="developer">Lập trình viên</option>
                <option value="designer">Thiết kế</option>
                <option value="manager">Quản lý</option>
                <option value="other">Khác</option>
              </select>
            </div>

            <div class="input-group file-input-group">
              <label for="avatar" class="input-label"
                >Tải Ảnh Đại Diện (Không bắt buộc)</label
              >
              <input
                type="file"
                id="avatar"
                name="avatar"
                class="file-input-custom"
                accept="image/*"
              />
            </div>

            <div class="input-group">
              <label class="input-label">Màu Sắc Yêu Thích</label>
              <div class="color-picker-wrapper">
                <input
                  type="color"
                  id="fav-color-input"
                  name="fav-color"
                  class="color-input"
                  value="#6366f1"
                />
                <span id="fav-color-hex" class="color-hex">#6366F1</span>
              </div>
            </div>

            <div class="input-group range-container">
              <label for="satisfaction" class="input-label"
                >Độ Hài Lòng Về Giao Diện (0-10)</label
              >
              <input
                type="range"
                id="satisfaction"
                name="satisfaction"
                class="range-input"
                min="0"
                max="10"
                value="7"
              />
              <p class="text-right text-sm mt-2">
                Giá trị:
                <span id="range-value" class="satisfaction-value">7</span>
              </p>
            </div>
          </fieldset>

          <div class="checkbox-group">
            <input
              type="checkbox"
              id="terms"
              name="terms"
              class="checkbox-input"
              required
            />
            <label for="terms" class="checkbox-label"
              >Tôi đồng ý với
              <a href="#" class="checkbox-link">Điều khoản dịch vụ</a> và
              <a href="#" class="checkbox-link">Chính sách bảo mật</a>.</label
            >
          </div>

          <div class="action-buttons">
            <button type="submit" class="btn btn-submit">Đăng Ký Ngay</button>
            <button type="button" class="btn btn-secondary">
              Đăng Nhập Nếu Đã Có Tài Khoản
            </button>
          </div>
        </form>

        <div
          id="success-message"
          class="success-message hidden"
          style="display: none"
        >
          <svg
            class="svg-icon mr-3"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <path d="m9 11 3 3L22 4"></path>
          </svg>
          <p>
            <span class="font-semibold">Thành công!</span>
            Bạn đã đăng ký tài khoản thành công. Chào mừng bạn!
          </p>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("registration-form");
        const successMessage = document.getElementById("success-message");
        const colorInput = document.getElementById("fav-color-input");
        const colorHex = document.getElementById("fav-color-hex");
        const rangeInput = document.getElementById("satisfaction");
        const rangeValue = document.getElementById("range-value");
        const themeToggle = document.getElementById("theme-toggle");

        const sunSvgContent =
          '<circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="M22 12h-2"></path><path d="M4 12H2"></path><path d="m18.36 5.64-.71.71"></path><path d="m6.34 17.66-.71.71"></path><path d="m17.66 6.34.71-.71"></path><path d="m5.64 18.36.71-.71"></path>';
        const moonSvgContent =
          '<path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path>';
        const themeIconSvg = document.getElementById("theme-icon");

        form.addEventListener("submit", (e) => {
          e.preventDefault();

          const formData = new FormData(form);
          const data = Object.fromEntries(formData.entries());
          console.log("Form Data Submitted:", data);

          form.style.display = "none";
          successMessage.style.display = "flex";

          setTimeout(() => {
            form.reset();
            form.style.display = "block";
            successMessage.style.display = "none";
          }, 5000);
        });

        colorInput.addEventListener("input", (e) => {
          colorHex.textContent = e.target.value.toUpperCase();
        });

        rangeInput.addEventListener("input", (e) => {
          rangeValue.textContent = e.target.value;
        });

        function updateToggleIcon(theme) {
          if (theme === "dark") {
            themeIconSvg.innerHTML = moonSvgContent;
          } else {
            themeIconSvg.innerHTML = sunSvgContent;
          }
        }

        const currentTheme = localStorage.getItem("theme");
        if (currentTheme) {
          document.body.classList.add(currentTheme);
          updateToggleIcon(currentTheme);
        } else if (
          window.matchMedia &&
          window.matchMedia("(prefers-color-scheme: dark)").matches
        ) {
          document.body.classList.add("dark");
          updateToggleIcon("dark");
        } else {
          updateToggleIcon("light");
        }

        themeToggle.addEventListener("click", () => {
          const isDark = document.body.classList.toggle("dark");
          const theme = isDark ? "dark" : "light";
          localStorage.setItem("theme", theme);
          updateToggleIcon(theme);
        });
      });
    </script>
  </body>
</html>
